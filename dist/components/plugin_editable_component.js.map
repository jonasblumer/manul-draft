{"version":3,"sources":["../../src/components/plugin_editable_component.jsx"],"names":["Styles","windowWidth","showDialog","dimensions","margin","dialogWidth","dialogLeftPositionMax","width","dialogLeftPositionMin","left","dialogLeftPosition","Math","min","base","position","content","cursor","dialog","opacity","zIndex","border","boxShadow","visibility","backgroundColor","padding","PluginEditableComponent","i18nNamespace","schema","hasCustomHover","setDimensions","setShowDialog","cancel","remove","updateData","dataMap","children","styles","e","stopPropagation","pointerEvents"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGA,IAAMA,SAAS,SAATA,MAAS,OAAkD;AAAA,MAA/CC,WAA+C,QAA/CA,WAA+C;AAAA,MAAlCC,UAAkC,QAAlCA,UAAkC;AAAA,6BAAtBC,UAAsB;AAAA,MAAtBA,UAAsB,mCAAT,EAAS;;AAC/D,MAAMC,SAAS,EAAf;AACA,MAAMC,cAAc,GAApB;AACA,MAAMC,wBAAwBH,WAAWI,KAAX,GAAmBH,MAAjD;AACA,MAAMI,wBAAwBP,cAAcE,WAAWM,IAAzB,GAAgCJ,WAAhC,GAA8CD,MAA5E;AACA,MAAMM,qBAAqBC,KAAKC,GAAL,CAASN,qBAAT,EAAgCE,qBAAhC,CAA3B;AACA,SAAO;AACLK,UAAM;AACJC,gBAAU;AACV;AAFI,KADD;AAKLC,aAAS;AACP;AACA;AACAC,cAAQ,SAHD;AAIPF,gBAAU,UAJH;;AAMP,gBAAU;AACR;AADQ;AANH,KALJ;AAeLG,YAAQ;AACN;AACAH,gBAAU,UAFJ;AAGNI,eAAShB,aAAa,CAAb,GAAiB,CAHpB;AAINiB,cAAQ,EAJF;AAKNZ,aAAOF,WALD;AAMNI,YAAMC,sBAAsB,CANtB;AAON;AACAU,cAAQ,iBARF;AASNC,iBAAW,kBATL;AAUNC,kBAAYpB,aAAa,SAAb,GAAyB,QAV/B;AAWNqB,uBAAiB,OAXX;AAYNC,eAAS;AAZH;AAfH,GAAP;AA8BD,CApCD;AAsCA,IAAMC,0BAA0B,SAA1BA,uBAA0B,QAe1B;AAAA,MAdJC,aAcI,SAdJA,aAcI;AAAA,MAbJC,MAaI,SAbJA,MAaI;AAAA,MAZJC,cAYI,SAZJA,cAYI;AAAA,MAXJC,aAWI,SAXJA,aAWI;AAAA,MAVJC,aAUI,SAVJA,aAUI;AAAA,MATJC,MASI,SATJA,MASI;AAAA,MARJC,MAQI,SARJA,MAQI;AAAA,MAPJC,UAOI,SAPJA,UAOI;AAAA,MANJC,OAMI,SANJA,OAMI;AAAA,MALJC,QAKI,SALJA,QAKI;AAAA,MAJJjC,UAII,SAJJA,UAII;AAAA,+BAHJC,UAGI;AAAA,MAHJA,UAGI,oCAHS,EAGT;AAAA,MAFJF,WAEI,SAFJA,WAEI;;AACJ,MAAMmC,SAASpC,OAAO,EAAEE,sBAAF,EAAcC,sBAAd,EAA0ByB,8BAA1B,EAA0C3B,wBAA1C,EAAP,CAAf;;AAEA,SACE;AAAA;AAAA,MAAK,OAAOmC,OAAOvB,IAAnB;AACGX,kBAAc;AAAA;AAAA;AACb;AAAA;AAAA,UAAK,OAAOkC,OAAOnB,MAAnB;AACE;AACE,kBAAQc,MADV;AAEE,mBAASG,OAFX;AAGE,kBAAQF,MAHV;AAIE,yBAAeN,aAJjB;AAKE,sBAAYO,UALd;AAME,kBAAQN;AANV;AADF;AADa,KADjB;AAcE;AAAA;AAAA;AACE,eAAOS,OAAOrB,OADhB;AAEE,iBAAS,iBAACsB,CAAD,EAAO;AAAEA,YAAEC,eAAF,GAAqBR,cAAc,CAAC5B,UAAf;AAA6B;AAFtE;AAIE;AAAA;AAAA,UAAK,OAAO,EAAEqC,eAAe,CAACX,cAAD,IAAmB,MAApC,EAAZ;AAEE;AAAA;AAAA;AACE,2BAAe1B,UADjB;AAEE,uBAAW2B;AAFb;AAIGM;AAJH;AAFF;AAJF;AAdF,GADF;AA+BD,CAjDD;;kBAoDeV,uB","file":"plugin_editable_component.js","sourcesContent":["import React from 'react';\nimport Measure from 'react-measure';\nimport Draggable from 'react-draggable';\nimport DialogPlugin from './dialog_plugin';\n\n\nconst Styles = ({ windowWidth, showDialog, dimensions = {} }) => {\n  const margin = 15;\n  const dialogWidth = 320;\n  const dialogLeftPositionMax = dimensions.width + margin;\n  const dialogLeftPositionMin = windowWidth - dimensions.left - dialogWidth - margin;\n  const dialogLeftPosition = Math.min(dialogLeftPositionMax, dialogLeftPositionMin);\n  return {\n    base: {\n      position: 'relative',\n      // zIndex: showDialog ? 1000 : null,\n    },\n    content: {\n      // ...theme.misc.defaultTransition,\n      // ...(showDialog ? theme.borders.editingHighlightingActive() : {}),\n      cursor: 'pointer',\n      position: 'relative',\n\n      ':hover': {\n        // ...(!hasCustomHover ? { ...theme.borders.editingHighlighting() } : {}),\n      },\n    },\n    dialog: {\n      // ...theme.misc.defaultTransition,\n      position: 'absolute',\n      opacity: showDialog ? 1 : 0,\n      zIndex: 10,\n      width: dialogWidth,\n      left: dialogLeftPosition || 0,\n      // ...theme.borders.editingHighlightingActive(),\n      border: '1px solid black',\n      boxShadow: '2px 2px 8px #333',\n      visibility: showDialog ? 'visible' : 'hidden',\n      backgroundColor: 'white',\n      padding: 10,\n    },\n  };\n}\n;\nconst PluginEditableComponent = ({\n  i18nNamespace,\n  schema,\n  hasCustomHover,\n  setDimensions,\n  setShowDialog,\n  cancel,\n  remove,\n  updateData,\n  dataMap,\n  children,\n  showDialog,\n  dimensions = {},\n  windowWidth,\n  // components from context\n}) => {\n  const styles = Styles({ showDialog, dimensions, hasCustomHover, windowWidth });\n\n  return (\n    <div style={styles.base}>\n      {showDialog && <Draggable>\n        <div style={styles.dialog}>\n          <DialogPlugin\n            cancel={cancel}\n            dataMap={dataMap}\n            remove={remove}\n            i18nNamespace={i18nNamespace}\n            updateData={updateData}\n            schema={schema}\n          />\n\n        </div>\n      </Draggable> }\n      <div\n        style={styles.content}\n        onClick={(e) => { e.stopPropagation(); setShowDialog(!showDialog); }}\n      >\n        <div style={{ pointerEvents: !hasCustomHover && 'none' }}>\n\n          <Measure\n            shouldMeasure={showDialog}\n            onMeasure={setDimensions}\n          >\n            {children}\n          </Measure>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nexport default PluginEditableComponent;\n"]}