{"version":3,"sources":["../../src/components/content_area.jsx"],"names":["MegadraftEditor","Styles","highlightEditable","isEditing","base","outline","padding","margin","cursor","position","ContentArea","className","style","canEdit","blockPluginDialogIsActive","startEditing","cancelEditing","entityInputs","locale","editorState","setEditorState","saveAndClose","saveAndEdit","megadraftActions","blockRenderMap","megadraftBlockPlugins","copyLocales","copyFromLocale","styles","renderEditor","readOnly","pointerEvents","display","flexDirection","height","e","stopPropagation","clear","displayName"],"mappings":"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","file":"content_area.js","sourcesContent":["import { MegadraftEditor as MegadraftEditorOrg } from 'megadraft';\nimport React from 'react';\n\nimport AreaActionsToolbar from './area_actions_toolbar';\nimport DraggableWindow from './draggable_window';\n\n// quickfix for https://github.com/globocom/megadraft/issues/97\nclass MegadraftEditor extends MegadraftEditorOrg {\n  /* eslint class-methods-use-this: 0*/\n  setReadOnly() {\n    // do nothing\n  }\n}\n\nconst Styles = ({ highlightEditable, isEditing }) =>\n   ({\n     base: {\n       ...(highlightEditable ? {\n         outline: '1px dotted black',\n         padding: 15,\n         margin: -15,\n       } : {}),\n       ...(isEditing ? {\n         outline: '1px dotted black',\n         padding: 15,\n         margin: -15,\n       } : {}),\n       cursor: highlightEditable ? 'pointer' : null,\n       position: 'relative',\n     },\n   })\n;\n\nconst ContentArea = ({\n    className,\n    style,\n    canEdit,\n    isEditing,\n    blockPluginDialogIsActive,\n    highlightEditable,\n    startEditing,\n    cancelEditing,\n    entityInputs,\n    locale,\n    editorState,\n    setEditorState,\n    saveAndClose,\n    saveAndEdit,\n    megadraftActions,\n    blockRenderMap,\n    megadraftBlockPlugins = [],\n    copyLocales = [],\n    copyFromLocale,\n  }) => {\n  const styles = Styles({ highlightEditable, isEditing });\n\n  const renderEditor = readOnly => (\n    <MegadraftEditor\n      key={`contentId${isEditing ? '_editing' : ''}`} // force rerender\n      actions={megadraftActions}\n      plugins={megadraftBlockPlugins}\n      readOnly={readOnly}\n      editorState={editorState}\n      entityInputs={entityInputs}\n      blockRenderMap={blockRenderMap}\n      onChange={setEditorState}\n    />\n  );\n\n\n  return (\n    <div style={style} className={className}>\n      <div\n        style={styles.base}\n        onClick={() => canEdit && highlightEditable && startEditing()}\n      >\n        <div style={highlightEditable ? { pointerEvents: 'none' } : null}>\n          {isEditing && (\n            <DraggableWindow>\n              <div\n                className=\"megadraft-floating-window\" style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  height: 'calc(100% - 50px)',\n                }}\n              >\n\n                {renderEditor(blockPluginDialogIsActive || !canEdit || !isEditing)}\n                <AreaActionsToolbar\n                  saveAndClose={saveAndClose}\n                  saveAndEdit={saveAndEdit}\n                  cancelEditing={cancelEditing}\n                  onResize={e => e.stopPropagation()}\n                  locale={locale}\n                  copyLocales={copyLocales}\n                  copyFromLocale={copyFromLocale}\n                />\n              </div>\n            </DraggableWindow>\n      )}\n          {renderEditor(true)}\n          <div style={{ clear: 'both' }} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nContentArea.displayName = 'ContentArea';\n\nexport default ContentArea;\n"]}